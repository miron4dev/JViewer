<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pe="http://primefaces.org/ui/extensions">

<f:view locale="#{localeModel.currentLocale}"/>
<h:head>
    <title>#{msg['J68']} #{userProfile.currentRoom}</title>
    <h:outputStylesheet library="css" name="jviewer.css"/>

    <h:outputScript library="js" name="chat_user.js"/>
</h:head>

<h:body onload="initViewer()">
    <h:form>
        <h:commandLink action="#{localeModel.switchLocale('en')}">
            <h:graphicImage library="images" name="us_logo.png"/>
        </h:commandLink>
    </h:form>
    <h:form>
        <h:commandLink action="#{localeModel.switchLocale('ru')}">
            <h:graphicImage library="images" name="ru_logo.png"/>
        </h:commandLink>
    </h:form>
    #{msg['J63']}:<h:outputText id="currentRoom" value="#{not empty userProfile.currentRoom ? userProfile.currentRoom : 'TEST_ROOM'}"/>
    <h:form id="displayForm">
        <p:commandButton value="#{msg['J66']}" action="rooms?faces-redirect=true"/>
        <p:commandButton value="#{msg['J67']}" action="#{loginController.logout}" onclick="leaveRoom();"/>
        <pe:codeMirror mode="htmlmixed" lineNumbers="true" lineWrapping="true" matchBrackets="true" theme="eclipse"
            escape="false" readonly="nocursor" widgetVar="codeMirror"/>
        <br/>
        <iframe id="result" frameBorder="0" width="1900" height="300"></iframe>
    </h:form>
</h:body>

</html>